# Go package import path of your project.
package github.com/cheikhshift/samb/samb-demo;


# import providers
require "../providers.se";


# Globals are exported to package 
# globals with the same identifier
# as the value specified with the 
# name directive.
global {
	name Prod;
	type bool;
    # Directive return specifies the 
    # value of the global variable
	return false;
}



server {
    host 127.0.0.1;
    port 8080;

    # Import web route definitions
    require "./endpoints.se";

    recover {
        do recoverName;
    }

    # Nesting a route in 
    # server.
    routes {

        route {

            path "/panic";
            method *;

            go {
                # Line spacing causes bug.
                # Recommend using package variables.
                do panic("Errortest_foo");
            }

            handler fmt.Println("Hi there");

        }
    }

    start {
    	do println("Hello");
    }

    shutdown {
    	do println("Bye");
    }  
}


